<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>登入</title>
		<meta name="keywords" content="登入">
		<meta name="description" content="登入">
		<link rel="stylesheet" href="css/style.css" type="text/css" />
	</head>
	<body>
		
		<div class="header">
			<div class="top">
				<div class="meihua"><img src="images/meihua.jpg"></div>
			    <div class="logo"><a href="index.html"><img src="images/logo.png"></a></div>
			</div>
		</div>
		<div class="login-box">
			<div class="login">
				<div class="login-left"><img src="images/bagua.png" width="450"/></div>
				<div class="login-right">
					<p><span class="title">會員登入</span>     <em class="nologin">還沒有會員帳號?<a href="reg.html">免費註冊</a></em></p>
					<div class="l-name">
						<i class="l-name-iphone"></i>
						<input class="l-user-iphone" type="text" placeholder="電子郵件/帳號/已驗證手機" id = "user_account">
					</div>
					<div class="l-name">
						<i class="l-name-password"></i>
						<input class="l-user-iphone" type="password" placeholder="請輸入密碼" id = "password">
					</div>
					<div class="remember">
						<label><input type="checkbox" name="remember" value="1" class="mind-login"><span>記住帳號密碼</span></label>
						<a href="">忘記密碼？</a>
					</div>
					<button type="button" value="" class="login-btn" id = "login-btn">登入</button>
				</div>
			</div>
		</div>
		<div id="login-status"></div>
		<script> document.getElementById('login-btn').addEventListener('click', () => {
			const user_account = document.getElementById('user_account').value;
			const password = document.getElementById('password').value;
		
			// 使用 Fetch API 讀取 JSON 檔案的資料
			fetch('/account.json')
			  .then(response => response.json())
			  .then(data => {
				// 驗證帳號和密碼是否匹配
				const account = data.find(acc => acc.user_account === user_account && acc.password === password);
				if (account) {
				  console.log('登入成功');
				  document.getElementById('login-status').innerText = '登入成功！歡迎，' + account.name;
				  // 登入成功後跳轉至 index.html
				  window.location.href = 'index.html';
				} else {
				  console.log('登入失敗');
				  document.getElementById('login-status').innerText = '登入失敗，請檢查帳號和密碼是否正確。';
				}
			  })
			  .catch(error => console.error('讀取 JSON 檔案時發生錯誤：', error));
		  });
		</script>
		<div class="copyright">
			版权所有：黃子杰的
		</div>
	</body>
</html>
